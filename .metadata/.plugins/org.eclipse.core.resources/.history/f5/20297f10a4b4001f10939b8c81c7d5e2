<%@page import="model.SanPham"%>
<%@page import="java.util.List"%>
<%@page import="Reponsitory.LaydulieuReponsitory"%>
<%@page import="model.ChiTietSanPham"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Admin/Product</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assetsquantri/img/favicon.png" rel="icon">
  <link href="assetsquantri/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assetsquantri/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assetsquantri/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assetsquantri/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assetsquantri/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assetsquantri/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assetsquantri/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assetsquantri/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assetsquantri/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: NiceAdmin
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Updated: Apr 20 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Arial', sans-serif;
    }

    body {
        background-color: #f4f4f9;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }

    .container {
        width: 90%;
        max-width: 800px;
        background: #ffffff;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        overflow: hidden;
        padding: 20px;
        margin-top: 50px;
        margin-left: auto;
        margin-right: auto;
    }

    .product-detail {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .product-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .product-title {
        font-size: 1.8rem;
        color: #333;
        font-weight: bold;
    }

    .product-image {
        max-width: 100%;
        max-height: 300px;
        display: block;
        margin: 0 auto;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Product Info */
    .product-info {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
    }

    .info-group {
        flex: 1 1 calc(50% - 20px);
        display: flex;
        flex-direction: column;
    }

    .info-label {
        font-size: 0.9rem;
        color: #888;
        margin-bottom: 5px;
    }

    .info-value,
    .info-input {
        font-size: 1.2rem;
        color: #555;
        font-weight: bold;
    }

    .info-input {
        padding: 5px;
        width: 100%;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .product-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }

    .btn {
        flex: 1;
        padding: 10px 20px;
        font-size: 1rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s ease;
        margin: 0 10px;
    }

    .btn-edit {
        background-color: #1d3557;
        color: #ffffff;
    }

    .btn-edit:hover {
        background-color: #457b9d;
    }

    .btn-delete {
        background-color: #e63946;
        color: #ffffff;
    }

    .btn-delete:hover {
        background-color: #f77f7f;
    }
</style>

</head>

<body>
<%
	String projectName = request.getContextPath(); // Lấy tên dự án
	%>
  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <div class="logo d-flex align-items-center">
        <img src="assetsquantri/img/logo.png" alt="">
        <span class="d-none d-lg-block">T3admin</span>
      </div>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

   

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">

        <li class="nav-item dropdown pe-3">

          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
			<i class="bi bi-person-circle" ></i>
            <span class="d-none d-md-block dropdown-toggle ps-2">Nguyễn Hoàng Tùng</span>
          </a><!-- End Profile Iamge Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>Tung123</h6>
              <span>Quản trị viên</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>

            <li>
              <a class="dropdown-item d-flex align-items-center" href="users-profile.html">
                <i class="bi bi-person"></i>
                <span>Đổi mật khẩu</span>
              </a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <i class="bi bi-box-arrow-right"></i>
                <span>Đăng xuất</span>
              </a>
            </li>

          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->

      </ul>
    </nav><!-- End Icons Navigation -->

  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
<aside id="sidebar" class="sidebar">

		<ul class="sidebar-nav" id="sidebar-nav">


			<li class="nav-heading">Quản lý bán hàng</li>
			<li class="nav-item"><a class="nav-link collapsed"
				href="<%=projectName%>/category.jsp"> <i
					class="bi bi-layout-text-window-reverse"></i> <span>Danh mục</span>
			</a></li>
			<li class="nav-item"><a class="nav-link "
				href="<%=projectName%>/productquantri.jsp"> <i
					class="bi bi-grid"></i> <span>Sản phẩm</span>
			</a></li>

			<li class="nav-heading">Quản lý tài khoản</li>

			<li class="nav-item"><a class="nav-link collapsed"
				href="<%=projectName%>/account.jsp"> <i class="bi bi-person"></i>
					<span>Tài khoản</span>
			</a></li>
			<!-- End Profile Page Nav -->

			<li class="nav-item"><a class="nav-link collapsed"
				href="<%=projectName%>/group.jsp"> <i
					class="bi bi-question-circle"></i> <span>Phân quyền</span>
			</a></li>
			<!-- End F.A.Q Page Nav -->



		</ul>

	</aside>
<% LaydulieuReponsitory l = new LaydulieuReponsitory();
int id = (int) request.getAttribute("idthamchieu");
 List<ChiTietSanPham> chitiet = l.Laythongtinchitietsanpham();
 List<SanPham> sp = l.Laythongtidanhmuc();
for(ChiTietSanPham c : chitiet){
	if(c.getMaSanPham() == id){
		for(SanPham sanpham : sp){
		if(c.getMaSanPham() == sanpham.getMaSanpham()){
%>
  <div class="container">
    <div class="product-detail">
        <div class="product-header">
            <h1 class="product-title"><%=sanpham.getTenSanPham()%></h1>
        </div>
        <img src=<%=sanpham.getDuongDanAnh()%> alt="Product Image" class="product-image">
        
        <div class="product-info">
            <div class="info-group">
                <span class="info-label">Quantity:</span>
                <span id="quantity-span" class="info-value">3</span>
                <input type="text" id="quantity-input" class="info-input" value="3" style="display:none;">
            </div>
            <div class="info-group">
                <span class="info-label">Color:</span>
                <span id="color-span" class="info-value">Red</span>
                <input type="text" id="color-input" class="info-input" value="Red" style="display:none;">
            </div>
            <div class="info-group">
                <span class="info-label">Size:</span>
                <span id="size-span" class="info-value">42</span>
                <input type="text" id="size-input" class="info-input" value="42" style="display:none;">
            </div>
            <div class="info-group">
                <span class="info-label">Price:</span>
                <span id="price-span" class="info-value">$99.99</span>
                <input type="text" id="price-input" class="info-input" value="$99.99" style="display:none;">
            </div>
        </div>

        <div class="product-buttons">
            <button class="btn btn-edit" id="edit-btn">Sửa</button>
            <button class="btn btn-save" id="save-btn" style="display:none;">Lưu</button>
            <button class="btn btn-delete">Xóa</button>
        </div>
    </div>
  </div>
<div id="smoke" class="smoke hide"></div>
<div id="smoke2" class="smoke hide" style="z-index: 2221"></div>
  <!-- ======= Footer ======= -->


  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assetsquantri/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assetsquantri/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assetsquantri/vendor/chart.js/chart.umd.js"></script>
  <script src="assetsquantri/vendor/echarts/echarts.min.js"></script>
  <script src="assetsquantri/vendor/quill/quill.js"></script>
  <script src="assetsquantri/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assetsquantri/vendor/tinymce/tinymce.min.js"></script>
  <script src="assetsquantri/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assetsquantri/js/main.js"></script>
  <script>

document.getElementById('edit-btn').addEventListener('click', function () {
    const saveButton = document.getElementById('save-btn'); // Nút Lưu

    // Toggle giữa các phần tử span và input
    const spanElements = document.querySelectorAll('.info-value');
    const inputElements = document.querySelectorAll('.info-input');

    spanElements.forEach(span => {
        span.style.display = (span.style.display === 'none') ? 'inline-block' : 'none';
    });

    inputElements.forEach(input => {
        input.style.display = (input.style.display === 'none') ? 'inline-block' : 'none';
    });

    // Chuyển đổi giữa "Sửa" và "Lưu"
    if (this.textContent === 'Sửa') {
        this.textContent = 'Hủy';  // Đổi tên nút "Sửa" thành "Hủy"
        saveButton.style.display = 'inline-block';  // Hiển thị nút "Lưu"
    } else {
        this.textContent = 'Sửa';  // Đổi tên nút "Hủy" thành "Sửa"
        saveButton.style.display = 'none';  // Ẩn nút "Lưu"
    }
});

// Khi nhấn nút "Lưu"
document.getElementById('save-btn').addEventListener('click', function () {
    // Lưu các thay đổi và ẩn nút "Lưu"
    const spanElements = document.querySelectorAll('.info-value');
    const inputElements = document.querySelectorAll('.info-input');

    // Lưu giá trị từ input về span
    spanElements.forEach((span, index) => {
        span.textContent = inputElements[index].value;
    });

    // Ẩn nút "Lưu" sau khi lưu
    this.style.display = 'none';

    // Đổi tên nút "Sửa" về lại trạng thái ban đầu
    document.getElementById('edit-btn').textContent = 'Sửa';
});
</script>


</body>

</html>